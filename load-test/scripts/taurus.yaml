cli-aliases:
  scenario1:
    execution:
    - concurrency: 1
      ramp-up: 10s
      hold-for: 10s
      executor: jmeter
      scenario: test1
  scenario2:
    execution:
    - concurrency: 1
      ramp-up: 10s
      hold-for: 10s
      executor: gatling
      scenario: test2

scenarios:
  test1:
    script: jmeter/google.jmx
  test2:
    script: gatling/sample.scala
    simulation: tests.gatling.BasicSimulation

reporting:
- module: final-stats
  summary: true
  percentiles: true
  summary-labels: false
  test-duration: true
  dump-xml: /tmp/artifacts/results.xml
  consolidator:
    generalize-labels: 500    # support up to this number of labels
    max-error-variety: 100    # max count of different error messages accepted (default: 100)
    percentiles:
    - 0.0
    - 50.0
    - 90.0
    - 100.0
- module: passfail
  criteria:
    Response time is too slow: p90 > 5s for 60s, continue as failed
    Error Rate is too hight: failures > 50% for 60s, continue as failed

settings:
  ramp-up-exclude: true

modules:
  console:
    disable: true
  jmeter:
    version: auto
    force-ctg: true
    detect-plugins: true
    properties:
      log_level.JMeter: WARN
      log_level.JMeter.threads: WARN
    system-properties:
      org.apache.commons.logging.simplelog.log.org.apache.http: WARN